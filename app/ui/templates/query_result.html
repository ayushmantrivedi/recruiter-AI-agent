<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Query Status | Recruiter AI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body style="padding: 2rem; overflow: auto;">
    <div style="max-width: 800px; margin: 0 auto;">
        <a href="/ui" class="primary-btn"
            style="text-decoration: none; display: inline-block; width: auto; margin-bottom: 2rem;">‚Üê Back to
            Dashboard</a>

        <div class="briefing-card">
            <h2>Status: {{ query.status|upper }}</h2>
            <p style="color: var(--text-secondary);">ID: {{ query.query_id }}</p>

            {% if query.error %}
            <div style="color: #f85149; background: rgba(248, 81, 73, 0.1); padding: 1rem; border-radius: 6px;">
                Error: {{ query.error }}
            </div>
            {% endif %}

            {% if query.synthesis_report %}
            <div class="briefing-content"
                style="margin-top: 1rem; border-top: 1px solid var(--border); padding-top: 1rem;">
                {{ query.synthesis_report }}
            </div>
            {% endif %}
        </div>

        {% if query.leads %}
        <h3>Results</h3>
        <div class="lead-grid">
            {% for lead in query.leads %}
            <div class="lead-card">
                <span class="lead-score">{{ lead.score|round }}%</span>
                <span class="lead-company">{{ lead.company }}</span>
                <div style="font-size: 0.85rem; color: #8b949e; margin-top: 10px;">
                    {{ lead.reasons[0] if lead.reasons else 'Match found' }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
</body>

</html>